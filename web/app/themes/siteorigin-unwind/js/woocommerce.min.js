jQuery(function(a){a.fn.triggerQuantityButtons=function(){return this.each(function(t,o){!function(t){a(t).find(".quantity:not(.button-controls)").addClass("button-controls").prepend('<input type="button" value="-" class="subtract" />').append('<input type="button" value="+" class="add" />'),a(t).on("click",".add, .subtract",function(){var t=a(this).closest(".quantity").find(".qty"),o=parseFloat(t.val()),n=parseFloat(t.attr("max")),i=parseFloat(t.attr("min")),e=t.attr("step");a(this).is(".add")?n<=o?t.val(n):t.val(o+parseFloat(e)):a(this).is(".subtract")&&(o<=i?t.val(i):0<o&&t.val(o-parseFloat(e))),t.trigger("change")})}(o)})},a("table.shop_table, .product form.cart").triggerQuantityButtons(),a(document).on("updated_cart_totals",function(){a("table.shop_table, .product form.cart").triggerQuantityButtons()}),a("table.shop_table").removeClass("shop_table_responsive"),a(".woocommerce-ordering select").each(function(){var o=a(this),n=a("<div></div>").html('<span class="current">'+o.find(":selected").html()+"</span>"+so_unwind_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(o),t=a("<div/>").addClass("ordering-dropdown-container").appendTo(n),i=a("<ul></ul>").addClass("ordering-dropdown").appendTo(t),e=0;o.find("option").each(function(){var t=a(this);i.append(a("<li></li>").html(t.html()).data("val",t.attr("value")).click(function(){o.val(a(this).data("val")),o.closest("form").submit()})),e=Math.max(n.find(".current").html(t.html()).width(),e)}),n.find(".current").html(o.find(":selected").html()).width(e),o.hide()}),a(".ordering-selector-wrapper").click(function(){a(this).toggleClass("open-dropdown")}),a(window).click(function(t){a(t.target).closest(".ordering-selector-wrapper.open-dropdown").length||a(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),a(".product-quick-view-button").click(function(t){t.preventDefault();var n="#quick-view-container",i="#product-quick-view",o=a(this).attr("data-product-id");a.post(so_unwind_data.ajaxurl,{action:"so_product_quick_view",product_id:o},function(t){a(document).find(n).find(i).html(t),a(document).find("#product-quick-view .cart").triggerQuantityButtons(),a(document).find("#product-quick-view .variations_form").wc_variation_form(),a(document).find("#product-quick-view .variations_form").trigger("check_variations"),a(so_unwind_data.chevron_down).insertAfter("#product-quick-view .variations_form select")}),a(document).ajaxComplete(function(){a.isFunction(a.fn.flexslider)&&a(".product-images-slider").flexslider({animation:"slide",animationLoop:!0,slideshow:!1,controlNav:!0,directionNav:!0})}),a(document).find(n).is(":hidden")&&a(document).find(n).find(i).empty(),a(document).find(n).fadeIn(300),a("body").css("margin-right",window.innerWidth-a("body").width()+"px"),a("body").css("overflow","hidden"),a(window).mouseup(function(t){var o=a(i);(!o.is(t.target)&&0===o.has(t.target).length||a(".quickview-close-icon").is(t.target))&&(a(n).fadeOut(300),a("body").css("overflow",""),a("body").css("margin-right",""))}),a(document).keyup(function(t){a(i);27==t.keyCode&&(a(n).fadeOut(300),a("body").css("overflow",""),a("body").css("margin-right",""))})}),a("body").hasClass("woo-variation-swatches")||a(so_unwind_data.chevron_down).insertAfter(".variations select")});